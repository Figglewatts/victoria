

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>V.I.C.T.O.R.I.A. &mdash; Victoria  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> Victoria
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin-creation.html">Plugin Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Victoria</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>V.I.C.T.O.R.I.A.</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v-i-c-t-o-r-i-a">
<h1>V.I.C.T.O.R.I.A.<a class="headerlink" href="#v-i-c-t-o-r-i-a" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://raw.githubusercontent.com/glasswall-sre/victoria/master/img/victoria.gif"><img alt="Victoria demo" src="https://raw.githubusercontent.com/glasswall-sre/victoria/master/img/victoria.gif" /></a>
<p><strong>V</strong>ery <strong>I</strong>mportant <strong>C</strong>ommands for <strong>T</strong>oil <strong>O</strong>ptimization: <strong>R</strong>educing <strong>I</strong>nessential <strong>A</strong>ctivities.</p>
<p>Victoria is the SRE toolbelt—a single CLI with multiple pluggable
subcommands for automating any number of ‘toil’ tasks that inhibit SRE
productivity.</p>
<a class="reference external image-reference" href="https://bestpractices.coreinfrastructure.org/projects/4111"><img alt="CII Best Practices" src="https://bestpractices.coreinfrastructure.org/projects/4111/badge" /></a>
<a class="reference external image-reference" href="https://sonarcloud.io/api/project_badges/measure?project=victoria&amp;metric=alert_status"><img alt="Quality gate status" src="https://sonarcloud.io/api/project_badges/measure?project=victoria&amp;metric=alert_status" /></a>
<a class="reference external image-reference" href="https://sonarcloud.io/api/project_badges/measure?project=victoria&amp;metric=sqale_rating"><img alt="Maintainability rating" src="https://sonarcloud.io/api/project_badges/measure?project=victoria&amp;metric=sqale_rating" /></a>
<a class="reference external image-reference" href="https://sonarcloud.io/api/project_badges/measure?project=victoria&amp;metric=reliability_rating"><img alt="Reliability rating" src="https://sonarcloud.io/api/project_badges/measure?project=victoria&amp;metric=reliability_rating" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/glasswall-sre/victoria/branch/master/graph/badge.svg"><img alt="Code coverage" src="https://codecov.io/gh/glasswall-sre/victoria/branch/master/graph/badge.svg" /></a>
<a class="reference external image-reference" href="https://img.shields.io/github/license/glasswall-sre/victoria"><img alt="License" src="https://img.shields.io/github/license/glasswall-sre/victoria" /></a>
<a class="reference external image-reference" href="https://img.shields.io/github/workflow/status/glasswall-sre/victoria/CD"><img alt="Build status" src="https://img.shields.io/github/workflow/status/glasswall-sre/victoria/CD" /></a>
<a class="reference external image-reference" href="https://img.shields.io/pypi/pyversions/victoria"><img alt="Python versions" src="https://img.shields.io/pypi/pyversions/victoria" /></a>
<a class="reference external image-reference" href="https://img.shields.io/pypi/v/victoria"><img alt="PyPI version" src="https://img.shields.io/pypi/v/victoria" /></a>
<a class="reference external image-reference" href="https://raw.githubusercontent.com/glasswall-sre/victoria/master/img/cii-badge.png"><img alt="Best practices badge" src="https://raw.githubusercontent.com/glasswall-sre/victoria/master/img/cii-badge.png" /></a>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Plugin architecture for easy extension</p></li>
<li><p>Store config for plugins in cloud storage</p>
<ul>
<li><p>Azure Blob Storage</p></li>
</ul>
</li>
<li><p>Encrypt secret config data at rest using cloud encruption provider</p>
<ul>
<li><p>Azure Key Vault</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Python 3.6+</p></li>
<li><p>Pip</p></li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-terminal notranslate"><div class="highlight"><pre><span></span>pip install -U victoria
</pre></div>
</div>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>The documentation <a class="reference external" href="https://sre.glasswallsolutions.com/victoria/index.html">can be found here</a>.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/glasswall-sre/victoria/blob/master/LICENSE">Victoria is licensed under the MIT license.</a></p>
</div>
<div class="section" id="contribution">
<h2>Contribution<a class="headerlink" href="#contribution" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bug-reports">
<h3>Bug reports<a class="headerlink" href="#bug-reports" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/glasswall-sre/victoria/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md&amp;title=%5BBUG%5D+%7BDescription+of+issue%7D">You can submit a bug report here.</a></p>
</div>
<div class="section" id="feature-requests">
<h3>Feature requests<a class="headerlink" href="#feature-requests" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/glasswall-sre/victoria/issues/new?assignees=&amp;labels=enhancement&amp;template=feature_request.md&amp;title=%5BREQUEST%5D">You can request a new feature here.</a></p>
</div>
<div class="section" id="vulnerability-reports">
<h3>Vulnerability reports<a class="headerlink" href="#vulnerability-reports" title="Permalink to this headline">¶</a></h3>
<p>We prefer vulnerabilities to be reported in private so as to minimise their
impact (so we can fix them before they are exploited!). To this end, please
email any security vulnerability reports to ‘<a class="reference external" href="mailto://sre&#37;&#52;&#48;glasswallsolutions&#46;com">sre<span>&#64;</span>glasswallsolutions<span>&#46;</span>com</a>‘.
We would appreciate it if you use the issue template in the link below.
All vulnerabilities will be acknowledged within one business day.</p>
<p><a class="reference external" href="https://github.com/glasswall-sre/victoria/issues/new?assignees=&amp;labels=Incident%2C+bug&amp;template=vulnerability-report.md&amp;title=%5BVULNERABILITY%5D">You can publicly report a security vulnerability here.</a></p>
</div>
<div class="section" id="pull-requests">
<h3>Pull requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h3>
<p>We accept pull requests! To contribute:</p>
<ol class="arabic simple">
<li><p>Pick up an unassigned issue from <a class="reference external" href="https://github.com/glasswall-sre/victoria/issues">our issue board</a>.
Assign yourself to the issue so other people know you’re working on it.</p></li>
<li><p>Work on your code in a feature branch that’s got a descriptive name (like <code class="docutils literal notranslate"><span class="pre">rework-fancy-integrator</span></code>).</p></li>
<li><p>Follow the <a class="reference external" href="http://google.github.io/styleguide/pyguide.html">Google style guide for Python</a>.
Every piece of code needs to be documented with <a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">Google-style docstrings</a>.
We use <a class="reference external" href="https://pypi.org/project/pylint/">pylint</a> to lint our code.
We run pylint without the ‘convention’ and ‘refactor’ message classes.
You can lint your code with: <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">run</span> <span class="pre">pylint</span> <span class="pre">victoria</span> <span class="pre">--disable=&quot;C,R&quot;</span></code>.
We use <a class="reference external" href="https://github.com/google/yapf">yapf</a> to automatically format our code. We recommend having it
format the code whenever you save.</p></li>
<li><p>Make commits for each part of your pull request. Try not to make too many (if it’s a small issue you may only need one).
We try to use <a class="reference external" href="https://chris.beams.io/posts/git-commit/#imperative">the imperative mood</a>
in commit message subjects.</p></li>
<li><p>We expect all new code to have at least 80% test coverage. This is enforced by <a class="reference external" href="https://codecov.io/gh/glasswall-sre/victoria">Codecov</a>.</p></li>
<li><p>To run tests locally and check coverage, use: <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">run</span> <span class="pre">pytest</span> <span class="pre">tests/</span> <span class="pre">--cov=victoria</span></code>.</p></li>
<li><p>When ready to merge, create a pull request from your branch into master.</p></li>
<li><p>Make sure you link your pull request to the issue(s) it addresses.</p></li>
<li><p>The <a class="reference external" href="https://github.com/glasswall-sre/victoria/actions?query=workflow%3ACI">CI build</a> will run
for your pull request. If it fails then it cannot be merged. Inspect the output, figure
out why it failed, and fix the problem.
The CI build will lint your code, run tests, and send coverage/code to Codecov
and <a class="reference external" href="https://sonarcloud.io/dashboard?id=victoria">SonarCloud</a>.</p></li>
<li><p>Someone will review your pull request and suggest changes if necessary.</p></li>
<li><p>When everything is signed off, your pull request will be merged! Congrats.</p></li>
</ol>
</div>
</div>
<div class="section" id="development-guide">
<h2>Development guide<a class="headerlink" href="#development-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Prerequisites<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Python 3.6+</p></li>
<li><p>Poetry</p></li>
</ul>
</div>
<div class="section" id="quick-start">
<h3>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Clone the repo.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">install</span></code>.</p></li>
<li><p>You’re good to go.</p></li>
</ol>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#backstory">Backstory</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#why-is-it-called-victoria">Why is it called Victoria?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#stock-plugins">Stock plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-guide.html#plugin-configuration">Plugin configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-guide.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#cloud-storage">Cloud storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#cloud-encryption">Cloud encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-guide.html#kek-rotation">KEK rotation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user-guide.html#cloud-backends">Cloud backends</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-guide.html#azure">Azure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="user-guide.html#storage">Storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-guide.html#encryption">Encryption</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer-guide.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer-guide.html#quick-start">Quick start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plugin-creation.html">Plugin Creation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#general">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#setup-py"><code class="docutils literal notranslate"><span class="pre">setup.py</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#package-structure">Package structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#init-py"><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#specifying-plugin-config">Specifying plugin config</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#accessing-core-victoria-config-from-a-plugin-s-config">Accessing core Victoria config from a plugin’s config</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-creation.html#storing-secrets-in-config-files">Storing secrets in config files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autoapi/victoria/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="autoapi/victoria/index.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="autoapi/victoria/encryption/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria.encryption</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="autoapi/victoria/script/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria.script</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="autoapi/victoria/storage/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria.storage</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="autoapi/victoria/index.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="autoapi/victoria/config/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria.config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="autoapi/victoria/plugin/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria.plugin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="autoapi/victoria/util/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">victoria.util</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="introduction.html" class="btn btn-neutral float-right" title="Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Glasswall SRE

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>